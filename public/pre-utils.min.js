"use strict";window.preUtils={config:{test:{map:{ali:["https://ptest1.styd.cn/","https://ptest2.styd.cn/"],huawei:["https://ptest-hw.styd.cn"]}},pre:{map:{ali:["https://ppre1.styd.cn/","https://ppre2.styd.cn/","https://ppre3.styd.cn/","https://ppre4.styd.cn/"],huawei:["https://ppre-hw.styd.cn/"]}},prod:{map:{ali:["https://p1.styd.cn/","https://p2.styd.cn/","https://p3.styd.cn/","https://p4.styd.cn/"],huawei:["https://p-hw.styd.cn/"]}}},map:{},vendors:[],threshold:1024,init:function(){this.browser.init(),"undefined"!=typeof Promise&&(this.initMaps(),this.initVendors(),this.setCdn())},initMaps:function(){var t={};this.isUseCdn()&&(t=this.config[this.getEnv()].map||{}),t.source=[location.origin+"/"],this.map=t},initVendors:function(){var t=this.map,e=[];for(var i in t)e.push(i);this.vendors=e},getEnv:function(){return{"saas.dev.styd.cn":"dev","saas.test.styd.cn":"test","saas.pre.styd.cn":"pre","pro.styd.cn":"prod"}[location.hostname]||"dev"},isUseCdn:function(){return this.config[this.getEnv()]},get:function(t){var e=localStorage.getItem(t);try{e=JSON.parse(e)}catch(t){}return e},set:function(t,e){try{e=JSON.stringify(e)}catch(t){}localStorage.setItem(t,e)},includeStatic:function(t){window.publicPaths=this.get("publicPaths")||this.map[this.vandors[0]];var e=htmlWebpackPlugin.files[t],i=document.createDocumentFragment(),s="body";for(var n in e){var r,o=(publicPaths[n%publicPaths.length]||this.map.source[0])+e[n].substr(htmlWebpackPlugin.files.publicPath.length);switch(t){case"css":(r=document.createElement("link")).href=o,r.rel="stylesheet",s="head";break;case"js":default:(r=document.createElement("script")).src=o,r.async=!1}i.appendChild(r)}document[s].appendChild(i)},getPublicPaths:function(){var o=this,s=this.vendors.shift();return new Promise(function(e){var t=o.map[s],i=[],n=[],r=[];if("source"===s)return e(t);t.forEach(function(s){var t=new Promise(function(t,e){var i=new Image;i.src=s+"img/cdn/sample.gif?t="+ +new Date,clearTimeout(this["timer_"+s]),this["timer_"+s]=setTimeout(function(){return e(new Error(s+" error: timeout("+o.threshold+")"))},o.threshold),i.onload=function(){n.push(s),t(s)},i.onerror=function(){console.warn(s,"error"),o.collectErrors(s),r.push(s),e(new Error(s+" error"))}}).catch(function(t){});i.push(t)}),Promise.all(i).catch(function(t){}).finally(function(){n.length?e(n):o.getPublicPaths().then(function(t){e(t)})})})},isResetPublicPaths:function(t){var i=this.get("publicPaths")||[],s=!1;return t=t.sort(),i=i.sort(),t.forEach(function(t,e){if(t!==i[e])return s=!0}),s},savePublicPaths:function(t){this.set("publicPaths",t)},setWebPackPublicPath:function(t){window.__webpack_public_path__=t[0]},includeStatics:function(){this.includeStatic("css"),this.includeStatic("js")},setCdn:function(){var e=this;this.getPublicPaths().then(function(t){e.isResetPublicPaths(t)&&e.savePublicPaths(t),e.setWebPackPublicPath(t),e.includeStatics()})},collectErrors:function(t){var e=this.get("cdnErrors")||{};e[t]=Date(),this.set("cdnErrors",e)},browser:{init:function(){this.isNeedUpdateBrowser()&&(this.updateTipLayer.open(),this.eventBind())},isNeedUpdateBrowser:function(){return/(MSIE|Trident)/i.test(navigator.userAgent)||"undefined"==typeof Promise},eventBind:function(){var t=this;document.getElementById("browser-update-tip-layer__close").onclick=function(){t.updateTipLayer.close()}},updateTipLayer:{open:function(){var t=document.getElementById("browser-update-tip-layer");t?t.style.visibility="visible":((t=document.createElement("div")).innerHTML='<div id="browser-update-tip-layer" style="position: fixed; width: 100%; height: 100%; left: 0; top: 0; background: rgb(0, 0, 0); z-index: 999999"><div style="width: 484px; height: 250px; position: absolute; left: 50%; top: 50%; margin-top: -125px ; margin-left: -242px; text-align: center; background: url(https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/browser-update-tip%402x.png); background-repeat: no-repeat; background-size: 100%; box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, .2);filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/browser-update-tip%402x.png,sizingMethod=scale);"><p style="font-size: 20px; font-weight: 500; color: #252A2E; margin: 120px 0 12px 0">检测到浏览器版本过低！</p><p style="font-size: 14px; color: #3E4D5C">您当前浏览器版本存在安全风险，建议使用浏览器：谷歌 Chrome</p><div id="browser-update-tip-layer__close" style="width: 40px; height: 40px; cursor: pointer; position: absolute; right: 0; top: 0;"></div>',document.body.appendChild(t))},close:function(){document.getElementById("browser-update-tip-layer").style.visibility="hidden"}}}};try{preUtils.init()}catch(t){}
